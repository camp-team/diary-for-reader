<div class="container">
  <div class="revieweds">
    <div class="revieweds__body">
      <p class="revieweds__question">{{ review.question }}</p>
      <p class="revieweds__text">{{ review.text }}</p>
    </div>
    <div>
      <button
        class="revieweds__edit-mat-button"
        mat-icon-button
        [mat-menu-trigger-for]="reviewEditor"
      >
        <mat-icon>more_vert</mat-icon>
      </button>
      <mat-menu #reviewEditor="matMenu">
        <button mat-menu-item>
          <mat-icon>edit</mat-icon>
          <span>編集</span>
        </button>
        <button mat-menu-item>
          <mat-icon>delete</mat-icon>
          <span>削除</span>
        </button>
      </mat-menu>
    </div>
  </div>
  <div>
    <ul class="reviews">
      <li class="reviews--item" *ngFor="let question of questions">
        <form [formGroup]="reviewForm">
          <mat-form-field>
            <mat-label class="reviews--item__question">
              {{ question.message }}
            </mat-label>
            <textarea
              class="reviews--item__review"
              matInput
              formControlName="review"
              type="textarea"
              cdkTextareaAutosize
              #autosize="cdkTextareaAutosize"
              cdkAutosizeMinRows="1"
              cdkAutosizeMaxRows="5"
            ></textarea>
          </mat-form-field>
          <div class="reviews--item__editact-actions">
            <button mat-button type="button" (click)="cancelReview()">
              キャンセル
            </button>
            <button
              class="font-color"
              mat-flat-button
              [disabled]=""
              color="primary"
              (click)="createReview(book)"
            >
              保存
            </button>
          </div>
        </form>
      </li>
    </ul>
    <ul class="reviews">
      <li class="free-text" *ngFor="let item of items">
        {{ item.message }}<textarea class="free-text_textarea"></textarea>
      </li>
    </ul>

    <div class="review-btns">
      <button
        class="questions__btn"
        mat-flat-button
        color="primary"
        [matMenuTriggerFor]="question"
      >
        質問を選択
      </button>
      <button
        class="free-text__btn"
        mat-flat-button
        color="accent"
        (click)="addQuestion(null)"
      >
        自由に書く
      </button>
    </div>
  </div>

  <mat-menu class="question-panel" #question="matMenu">
    <div *ngFor="let item of questionsList; index as i">
      <button mat-menu-item (click)="addQuestion(item)">
        {{ i + 1 + '&emsp;' + item }}
      </button>
    </div>
  </mat-menu>
</div>
