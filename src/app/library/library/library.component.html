<header class="header">
  <a class="logo" routerLink="/">
    <img
      class="logo__sp"
      src="assets/images/brand.png"
      alt="読書家のための日記帳"
    />
    <img
      class="logo__tab"
      src="assets/images/brand-title.logo.png"
      alt="読書家のための日記帳"
    />
  </a>
  <h2 class="page-title">Library</h2>
  <div class="header-options">
    <button
      class="header-options__search-btn"
      routerLink="/library-search"
      matTooltip="ライブラリ内検索"
    >
      <mat-icon class="header-options__icon">search</mat-icon>
    </button>
    <button
      class="header-options__sort-btn"
      [matMenuTriggerFor]="sortMenu"
      matTooltip="ソート"
    >
      <mat-icon class="header-options__icon">sort</mat-icon>
    </button>
  </div>
</header>

<div class="books" [ngSwitch]="orderBy">
  <ng-container *ngSwitchCase="'latest'">
    <div class="order-title">
      <h2 class="order-title__content">
        新しく追加された順
      </h2>
    </div>
    <div class="books__grid">
      <ng-container *ngIf="(booksToNew$ | async)?.length > 0; else blank">
        <app-book-list
          class="books__item"
          [book]="book"
          *ngFor="let book of booksToNew$ | async"
        ></app-book-list>
      </ng-container>
    </div>
  </ng-container>

  <ng-container *ngSwitchCase="'oldest'">
    <div class="order-title">
      <h2 class="order-title__content">
        追加日の古い順
      </h2>
    </div>
    <div class="books__grid">
      <ng-container *ngIf="(booksToOld$ | async)?.length > 0; else blank">
        <app-book-list
          class="books__item"
          [book]="book"
          *ngFor="let book of booksToOld$ | async"
        ></app-book-list>
      </ng-container>
    </div>
  </ng-container>
  <ng-container *ngSwitchCase="'authors'">
    <div class="order-title">
      <h2 class="order-title__content">
        著者の名前順
      </h2>
    </div>
    <div class="books__grid">
      <ng-container *ngIf="(booksByAuthors$ | async)?.length > 0; else blank">
        <app-book-list
          class="books__item"
          [book]="book"
          *ngFor="let book of booksByAuthors$ | async"
        ></app-book-list>
      </ng-container>
    </div>
  </ng-container>
</div>
<ng-template #blank>
  <div class="blank">
    まだ本はありません。本を追加ページから本を追加してください。
  </div>
</ng-template>
<mat-menu class="menu" #sortMenu="matMenu">
  <button mat-menu-item (click)="orderBy = 'latest'">
    <span>追加日（新しい）</span>
  </button>
  <button mat-menu-item (click)="orderBy = 'oldest'">
    <span>追加日（古い）</span>
  </button>
  <button mat-menu-item (click)="orderBy = 'authors'">
    <span>著者</span>
  </button>
</mat-menu>
